import{a as Ve,j as n,D as ce,B as rt,r as c,e as _e,c as U,u as he,b as it,f as pn,p as at,N as Dn,s as hn,n as lt,O as Hn,P as Xt,Q as qn,U as xn,S as It,i as Bn,k as zn,V as vn,T as V,W as Pn,X as Fn,Y as Yt,Z as $n,$ as Gn,a0 as Vn,a1 as Wn,a2 as gn,a3 as Un,a4 as Kn,a5 as Xn,a6 as Yn,a7 as Zn,a8 as Dt,a9 as Qn,aa as Jn,h as Zt,ab as Qt,ac as es,ad as ts,ae as Jt}from"./index-edd0788e.js";import{A as Te,C as ns,S as ss}from"./features.routes-d88676fd.js";import{I as wn}from"./yup-99dba986.js";const Lt=e=>{const{title:t,content:o,close:s,onClick:r,...i}=e,{t:l}=Ve(),d=()=>{s&&s()},a=()=>{r(),d()};return n.jsxs(ce,{...i,className:"p-5 rounded-lg",closeRight:!0,close:d,children:[n.jsx(ce.Header,{className:"text-4.25 font-semibold",children:t}),n.jsx(ce.Body,{className:"text-3.2 pt-2 whitespace-break",children:o}),n.jsxs(ce.Footer,{className:"pt-5 flex justify-end space-x-4",children:[n.jsx(rt,{className:"border border-gray2 rounded-md px-10 py-1.5 hover:bg-gray8",onClick:d,children:l("cancel")}),n.jsx(rt,{className:"border border-gray2 rounded-md px-10 py-1.5 hover:bg-primaryHover hover:text-white hover:border-primaryHover",onClick:a,children:l("ok")})]})]})},$e=Math.min,Ae=Math.max,jt=Math.round,yt=Math.floor,ye=e=>({x:e,y:e}),os={left:"right",right:"left",bottom:"top",top:"bottom"},rs={start:"end",end:"start"};function Ht(e,t,o){return Ae(e,$e(t,o))}function dt(e,t){return typeof e=="function"?e(t):e}function Re(e){return e.split("-")[0]}function ut(e){return e.split("-")[1]}function yn(e){return e==="x"?"y":"x"}function zt(e){return e==="y"?"height":"width"}function Nt(e){return["top","bottom"].includes(Re(e))?"y":"x"}function Pt(e){return yn(Nt(e))}function ls(e,t,o){o===void 0&&(o=!1);const s=ut(e),r=Pt(e),i=zt(r);let l=r==="x"?s===(o?"end":"start")?"right":"left":s==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(l=Et(l)),[l,Et(l)]}function cs(e){const t=Et(e);return[qt(e),t,qt(t)]}function qt(e){return e.replace(/start|end/g,t=>rs[t])}function is(e,t,o){const s=["left","right"],r=["right","left"],i=["top","bottom"],l=["bottom","top"];switch(e){case"top":case"bottom":return o?t?r:s:t?s:r;case"left":case"right":return t?i:l;default:return[]}}function as(e,t,o,s){const r=ut(e);let i=is(Re(e),o==="start",s);return r&&(i=i.map(l=>l+"-"+r),t&&(i=i.concat(i.map(qt)))),i}function Et(e){return e.replace(/left|right|bottom|top/g,t=>os[t])}function ds(e){return{top:0,right:0,bottom:0,left:0,...e}}function bn(e){return typeof e!="number"?ds(e):{top:e,right:e,bottom:e,left:e}}function St(e){return{...e,top:e.y,left:e.x,right:e.x+e.width,bottom:e.y+e.height}}function en(e,t,o){let{reference:s,floating:r}=e;const i=Nt(t),l=Pt(t),d=zt(l),a=Re(t),f=i==="y",g=s.x+s.width/2-r.width/2,m=s.y+s.height/2-r.height/2,E=s[d]/2-r[d]/2;let u;switch(a){case"top":u={x:g,y:s.y-r.height};break;case"bottom":u={x:g,y:s.y+s.height};break;case"right":u={x:s.x+s.width,y:m};break;case"left":u={x:s.x-r.width,y:m};break;default:u={x:s.x,y:s.y}}switch(ut(t)){case"start":u[l]-=E*(o&&f?-1:1);break;case"end":u[l]+=E*(o&&f?-1:1);break}return u}const us=async(e,t,o)=>{const{placement:s="bottom",strategy:r="absolute",middleware:i=[],platform:l}=o,d=i.filter(Boolean),a=await(l.isRTL==null?void 0:l.isRTL(t));let f=await l.getElementRects({reference:e,floating:t,strategy:r}),{x:g,y:m}=en(f,s,a),E=s,u={},h=0;for(let p=0;p<d.length;p++){const{name:x,fn:v}=d[p],{x:_,y:w,data:R,reset:j}=await v({x:g,y:m,initialPlacement:s,placement:E,strategy:r,middlewareData:u,rects:f,platform:l,elements:{reference:e,floating:t}});g=_??g,m=w??m,u={...u,[x]:{...u[x],...R}},j&&h<=50&&(h++,typeof j=="object"&&(j.placement&&(E=j.placement),j.rects&&(f=j.rects===!0?await l.getElementRects({reference:e,floating:t,strategy:r}):j.rects),{x:g,y:m}=en(f,E,a)),p=-1)}return{x:g,y:m,placement:E,strategy:r,middlewareData:u}};async function jn(e,t){var o;t===void 0&&(t={});const{x:s,y:r,platform:i,rects:l,elements:d,strategy:a}=e,{boundary:f="clippingAncestors",rootBoundary:g="viewport",elementContext:m="floating",altBoundary:E=!1,padding:u=0}=dt(t,e),h=bn(u),x=d[E?m==="floating"?"reference":"floating":m],v=St(await i.getClippingRect({element:(o=await(i.isElement==null?void 0:i.isElement(x)))==null||o?x:x.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(d.floating)),boundary:f,rootBoundary:g,strategy:a})),_=m==="floating"?{...l.floating,x:s,y:r}:l.reference,w=await(i.getOffsetParent==null?void 0:i.getOffsetParent(d.floating)),R=await(i.isElement==null?void 0:i.isElement(w))?await(i.getScale==null?void 0:i.getScale(w))||{x:1,y:1}:{x:1,y:1},j=St(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:d,rect:_,offsetParent:w,strategy:a}):_);return{top:(v.top-j.top+h.top)/R.y,bottom:(j.bottom-v.bottom+h.bottom)/R.y,left:(v.left-j.left+h.left)/R.x,right:(j.right-v.right+h.right)/R.x}}const fs=e=>({name:"arrow",options:e,async fn(t){const{x:o,y:s,placement:r,rects:i,platform:l,elements:d,middlewareData:a}=t,{element:f,padding:g=0}=dt(e,t)||{};if(f==null)return{};const m=bn(g),E={x:o,y:s},u=Pt(r),h=zt(u),p=await l.getDimensions(f),x=u==="y",v=x?"top":"left",_=x?"bottom":"right",w=x?"clientHeight":"clientWidth",R=i.reference[h]+i.reference[u]-E[u]-i.floating[h],j=E[u]-i.reference[u],q=await(l.getOffsetParent==null?void 0:l.getOffsetParent(f));let S=q?q[w]:0;(!S||!await(l.isElement==null?void 0:l.isElement(q)))&&(S=d.floating[w]||i.floating[h]);const L=R/2-j/2,b=S/2-p[h]/2-1,I=$e(m[v],b),B=$e(m[_],b),O=I,H=S-p[h]-B,A=S/2-p[h]/2+L,N=Ht(O,A,H),M=!a.arrow&&ut(r)!=null&&A!==N&&i.reference[h]/2-(A<O?I:B)-p[h]/2<0,z=M?A<O?A-O:A-H:0;return{[u]:E[u]+z,data:{[u]:N,centerOffset:A-N-z,...M&&{alignmentOffset:z}},reset:M}}}),ms=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var o,s;const{placement:r,middlewareData:i,rects:l,initialPlacement:d,platform:a,elements:f}=t,{mainAxis:g=!0,crossAxis:m=!0,fallbackPlacements:E,fallbackStrategy:u="bestFit",fallbackAxisSideDirection:h="none",flipAlignment:p=!0,...x}=dt(e,t);if((o=i.arrow)!=null&&o.alignmentOffset)return{};const v=Re(r),_=Re(d)===d,w=await(a.isRTL==null?void 0:a.isRTL(f.floating)),R=E||(_||!p?[Et(d)]:cs(d));!E&&h!=="none"&&R.push(...as(d,p,h,w));const j=[d,...R],q=await jn(t,x),S=[];let L=((s=i.flip)==null?void 0:s.overflows)||[];if(g&&S.push(q[v]),m){const O=ls(r,l,w);S.push(q[O[0]],q[O[1]])}if(L=[...L,{placement:r,overflows:S}],!S.every(O=>O<=0)){var b,I;const O=(((b=i.flip)==null?void 0:b.index)||0)+1,H=j[O];if(H)return{data:{index:O,overflows:L},reset:{placement:H}};let A=(I=L.filter(N=>N.overflows[0]<=0).sort((N,M)=>N.overflows[1]-M.overflows[1])[0])==null?void 0:I.placement;if(!A)switch(u){case"bestFit":{var B;const N=(B=L.map(M=>[M.placement,M.overflows.filter(z=>z>0).reduce((z,ee)=>z+ee,0)]).sort((M,z)=>M[1]-z[1])[0])==null?void 0:B[0];N&&(A=N);break}case"initialPlacement":A=d;break}if(r!==A)return{reset:{placement:A}}}return{}}}};async function ps(e,t){const{placement:o,platform:s,elements:r}=e,i=await(s.isRTL==null?void 0:s.isRTL(r.floating)),l=Re(o),d=ut(o),a=Nt(o)==="y",f=["left","top"].includes(l)?-1:1,g=i&&a?-1:1,m=dt(t,e);let{mainAxis:E,crossAxis:u,alignmentAxis:h}=typeof m=="number"?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...m};return d&&typeof h=="number"&&(u=d==="end"?h*-1:h),a?{x:u*g,y:E*f}:{x:E*f,y:u*g}}const hs=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var o,s;const{x:r,y:i,placement:l,middlewareData:d}=t,a=await ps(t,e);return l===((o=d.offset)==null?void 0:o.placement)&&(s=d.arrow)!=null&&s.alignmentOffset?{}:{x:r+a.x,y:i+a.y,data:{...a,placement:l}}}}},xs=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:o,y:s,placement:r}=t,{mainAxis:i=!0,crossAxis:l=!1,limiter:d={fn:x=>{let{x:v,y:_}=x;return{x:v,y:_}}},...a}=dt(e,t),f={x:o,y:s},g=await jn(t,a),m=Nt(Re(r)),E=yn(m);let u=f[E],h=f[m];if(i){const x=E==="y"?"top":"left",v=E==="y"?"bottom":"right",_=u+g[x],w=u-g[v];u=Ht(_,u,w)}if(l){const x=m==="y"?"top":"left",v=m==="y"?"bottom":"right",_=h+g[x],w=h-g[v];h=Ht(_,h,w)}const p=d.fn({...t,[E]:u,[m]:h});return{...p,data:{x:p.x-o,y:p.y-s}}}}};function be(e){return En(e)?(e.nodeName||"").toLowerCase():"#document"}function se(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function ve(e){var t;return(t=(En(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function En(e){return e instanceof Node||e instanceof se(e).Node}function xe(e){return e instanceof Element||e instanceof se(e).Element}function fe(e){return e instanceof HTMLElement||e instanceof se(e).HTMLElement}function tn(e){return typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof se(e).ShadowRoot}function ft(e){const{overflow:t,overflowX:o,overflowY:s,display:r}=ie(e);return/auto|scroll|overlay|hidden|clip/.test(t+s+o)&&!["inline","contents"].includes(r)}function vs(e){return["table","td","th"].includes(be(e))}function Ft(e){const t=$t(),o=ie(e);return o.transform!=="none"||o.perspective!=="none"||(o.containerType?o.containerType!=="normal":!1)||!t&&(o.backdropFilter?o.backdropFilter!=="none":!1)||!t&&(o.filter?o.filter!=="none":!1)||["transform","perspective","filter"].some(s=>(o.willChange||"").includes(s))||["paint","layout","strict","content"].some(s=>(o.contain||"").includes(s))}function gs(e){let t=Ge(e);for(;fe(t)&&!Ct(t);){if(Ft(t))return t;t=Ge(t)}return null}function $t(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Ct(e){return["html","body","#document"].includes(be(e))}function ie(e){return se(e).getComputedStyle(e)}function _t(e){return xe(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function Ge(e){if(be(e)==="html")return e;const t=e.assignedSlot||e.parentNode||tn(e)&&e.host||ve(e);return tn(t)?t.host:t}function Sn(e){const t=Ge(e);return Ct(t)?e.ownerDocument?e.ownerDocument.body:e.body:fe(t)&&ft(t)?t:Sn(t)}function ct(e,t,o){var s;t===void 0&&(t=[]),o===void 0&&(o=!0);const r=Sn(e),i=r===((s=e.ownerDocument)==null?void 0:s.body),l=se(r);return i?t.concat(l,l.visualViewport||[],ft(r)?r:[],l.frameElement&&o?ct(l.frameElement):[]):t.concat(r,ct(r,[],o))}function Nn(e){const t=ie(e);let o=parseFloat(t.width)||0,s=parseFloat(t.height)||0;const r=fe(e),i=r?e.offsetWidth:o,l=r?e.offsetHeight:s,d=jt(o)!==i||jt(s)!==l;return d&&(o=i,s=l),{width:o,height:s,$:d}}function Gt(e){return xe(e)?e:e.contextElement}function Fe(e){const t=Gt(e);if(!fe(t))return ye(1);const o=t.getBoundingClientRect(),{width:s,height:r,$:i}=Nn(t);let l=(i?jt(o.width):o.width)/s,d=(i?jt(o.height):o.height)/r;return(!l||!Number.isFinite(l))&&(l=1),(!d||!Number.isFinite(d))&&(d=1),{x:l,y:d}}const ws=ye(0);function Cn(e){const t=se(e);return!$t()||!t.visualViewport?ws:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function ys(e,t,o){return t===void 0&&(t=!1),!o||t&&o!==se(e)?!1:t}function ke(e,t,o,s){t===void 0&&(t=!1),o===void 0&&(o=!1);const r=e.getBoundingClientRect(),i=Gt(e);let l=ye(1);t&&(s?xe(s)&&(l=Fe(s)):l=Fe(e));const d=ys(i,o,s)?Cn(i):ye(0);let a=(r.left+d.x)/l.x,f=(r.top+d.y)/l.y,g=r.width/l.x,m=r.height/l.y;if(i){const E=se(i),u=s&&xe(s)?se(s):s;let h=E,p=h.frameElement;for(;p&&s&&u!==h;){const x=Fe(p),v=p.getBoundingClientRect(),_=ie(p),w=v.left+(p.clientLeft+parseFloat(_.paddingLeft))*x.x,R=v.top+(p.clientTop+parseFloat(_.paddingTop))*x.y;a*=x.x,f*=x.y,g*=x.x,m*=x.y,a+=w,f+=R,h=se(p),p=h.frameElement}}return St({width:g,height:m,x:a,y:f})}const bs=[":popover-open",":modal"];function _n(e){return bs.some(t=>{try{return e.matches(t)}catch{return!1}})}function js(e){let{elements:t,rect:o,offsetParent:s,strategy:r}=e;const i=r==="fixed",l=ve(s),d=t?_n(t.floating):!1;if(s===l||d&&i)return o;let a={scrollLeft:0,scrollTop:0},f=ye(1);const g=ye(0),m=fe(s);if((m||!m&&!i)&&((be(s)!=="body"||ft(l))&&(a=_t(s)),fe(s))){const E=ke(s);f=Fe(s),g.x=E.x+s.clientLeft,g.y=E.y+s.clientTop}return{width:o.width*f.x,height:o.height*f.y,x:o.x*f.x-a.scrollLeft*f.x+g.x,y:o.y*f.y-a.scrollTop*f.y+g.y}}function Es(e){return Array.from(e.getClientRects())}function An(e){return ke(ve(e)).left+_t(e).scrollLeft}function Ss(e){const t=ve(e),o=_t(e),s=e.ownerDocument.body,r=Ae(t.scrollWidth,t.clientWidth,s.scrollWidth,s.clientWidth),i=Ae(t.scrollHeight,t.clientHeight,s.scrollHeight,s.clientHeight);let l=-o.scrollLeft+An(e);const d=-o.scrollTop;return ie(s).direction==="rtl"&&(l+=Ae(t.clientWidth,s.clientWidth)-r),{width:r,height:i,x:l,y:d}}function Ns(e,t){const o=se(e),s=ve(e),r=o.visualViewport;let i=s.clientWidth,l=s.clientHeight,d=0,a=0;if(r){i=r.width,l=r.height;const f=$t();(!f||f&&t==="fixed")&&(d=r.offsetLeft,a=r.offsetTop)}return{width:i,height:l,x:d,y:a}}function Cs(e,t){const o=ke(e,!0,t==="fixed"),s=o.top+e.clientTop,r=o.left+e.clientLeft,i=fe(e)?Fe(e):ye(1),l=e.clientWidth*i.x,d=e.clientHeight*i.y,a=r*i.x,f=s*i.y;return{width:l,height:d,x:a,y:f}}function nn(e,t,o){let s;if(t==="viewport")s=Ns(e,o);else if(t==="document")s=Ss(ve(e));else if(xe(t))s=Cs(t,o);else{const r=Cn(e);s={...t,x:t.x-r.x,y:t.y-r.y}}return St(s)}function Tn(e,t){const o=Ge(e);return o===t||!xe(o)||Ct(o)?!1:ie(o).position==="fixed"||Tn(o,t)}function _s(e,t){const o=t.get(e);if(o)return o;let s=ct(e,[],!1).filter(d=>xe(d)&&be(d)!=="body"),r=null;const i=ie(e).position==="fixed";let l=i?Ge(e):e;for(;xe(l)&&!Ct(l);){const d=ie(l),a=Ft(l);!a&&d.position==="fixed"&&(r=null),(i?!a&&!r:!a&&d.position==="static"&&!!r&&["absolute","fixed"].includes(r.position)||ft(l)&&!a&&Tn(e,l))?s=s.filter(g=>g!==l):r=d,l=Ge(l)}return t.set(e,s),s}function As(e){let{element:t,boundary:o,rootBoundary:s,strategy:r}=e;const l=[...o==="clippingAncestors"?_s(t,this._c):[].concat(o),s],d=l[0],a=l.reduce((f,g)=>{const m=nn(t,g,r);return f.top=Ae(m.top,f.top),f.right=$e(m.right,f.right),f.bottom=$e(m.bottom,f.bottom),f.left=Ae(m.left,f.left),f},nn(t,d,r));return{width:a.right-a.left,height:a.bottom-a.top,x:a.left,y:a.top}}function Ts(e){const{width:t,height:o}=Nn(e);return{width:t,height:o}}function Rs(e,t,o){const s=fe(t),r=ve(t),i=o==="fixed",l=ke(e,!0,i,t);let d={scrollLeft:0,scrollTop:0};const a=ye(0);if(s||!s&&!i)if((be(t)!=="body"||ft(r))&&(d=_t(t)),s){const m=ke(t,!0,i,t);a.x=m.x+t.clientLeft,a.y=m.y+t.clientTop}else r&&(a.x=An(r));const f=l.left+d.scrollLeft-a.x,g=l.top+d.scrollTop-a.y;return{x:f,y:g,width:l.width,height:l.height}}function sn(e,t){return!fe(e)||ie(e).position==="fixed"?null:t?t(e):e.offsetParent}function Rn(e,t){const o=se(e);if(!fe(e)||_n(e))return o;let s=sn(e,t);for(;s&&vs(s)&&ie(s).position==="static";)s=sn(s,t);return s&&(be(s)==="html"||be(s)==="body"&&ie(s).position==="static"&&!Ft(s))?o:s||gs(e)||o}const ks=async function(e){const t=this.getOffsetParent||Rn,o=this.getDimensions;return{reference:Rs(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,...await o(e.floating)}}};function Ls(e){return ie(e).direction==="rtl"}const Os={convertOffsetParentRelativeRectToViewportRelativeRect:js,getDocumentElement:ve,getClippingRect:As,getOffsetParent:Rn,getElementRects:ks,getClientRects:Es,getDimensions:Ts,getScale:Fe,isElement:xe,isRTL:Ls};function Ms(e,t){let o=null,s;const r=ve(e);function i(){var d;clearTimeout(s),(d=o)==null||d.disconnect(),o=null}function l(d,a){d===void 0&&(d=!1),a===void 0&&(a=1),i();const{left:f,top:g,width:m,height:E}=e.getBoundingClientRect();if(d||t(),!m||!E)return;const u=yt(g),h=yt(r.clientWidth-(f+m)),p=yt(r.clientHeight-(g+E)),x=yt(f),_={rootMargin:-u+"px "+-h+"px "+-p+"px "+-x+"px",threshold:Ae(0,$e(1,a))||1};let w=!0;function R(j){const q=j[0].intersectionRatio;if(q!==a){if(!w)return l();q?l(!1,q):s=setTimeout(()=>{l(!1,1e-7)},100)}w=!1}try{o=new IntersectionObserver(R,{..._,root:r.ownerDocument})}catch{o=new IntersectionObserver(R,_)}o.observe(e)}return l(!0),i}function Is(e,t,o,s){s===void 0&&(s={});const{ancestorScroll:r=!0,ancestorResize:i=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:d=typeof IntersectionObserver=="function",animationFrame:a=!1}=s,f=Gt(e),g=r||i?[...f?ct(f):[],...ct(t)]:[];g.forEach(v=>{r&&v.addEventListener("scroll",o,{passive:!0}),i&&v.addEventListener("resize",o)});const m=f&&d?Ms(f,o):null;let E=-1,u=null;l&&(u=new ResizeObserver(v=>{let[_]=v;_&&_.target===f&&u&&(u.unobserve(t),cancelAnimationFrame(E),E=requestAnimationFrame(()=>{var w;(w=u)==null||w.observe(t)})),o()}),f&&!a&&u.observe(f),u.observe(t));let h,p=a?ke(e):null;a&&x();function x(){const v=ke(e);p&&(v.x!==p.x||v.y!==p.y||v.width!==p.width||v.height!==p.height)&&o(),p=v,h=requestAnimationFrame(x)}return o(),()=>{var v;g.forEach(_=>{r&&_.removeEventListener("scroll",o),i&&_.removeEventListener("resize",o)}),m==null||m(),(v=u)==null||v.disconnect(),u=null,a&&cancelAnimationFrame(h)}}const Ds=xs,Hs=ms,qs=fs,on=(e,t,o)=>{const s=new Map,r={platform:Os,...o},i={...r.platform,_c:s};return us(e,t,{...r,platform:i})};/*
* React Tooltip
* {@link https://github.com/ReactTooltip/react-tooltip}
* @copyright ReactTooltip Team
* @license MIT
*/const Bs="react-tooltip-core-styles",zs="react-tooltip-base-styles",rn={core:!1,base:!1};function ln({css:e,id:t=zs,type:o="base",ref:s}){var r,i;if(!e||typeof document>"u"||rn[o]||o==="core"&&typeof process<"u"&&(!((r=process==null?void 0:process.env)===null||r===void 0)&&r.REACT_TOOLTIP_DISABLE_CORE_STYLES)||o!=="base"&&typeof process<"u"&&(!((i=process==null?void 0:process.env)===null||i===void 0)&&i.REACT_TOOLTIP_DISABLE_BASE_STYLES))return;o==="core"&&(t=Bs),s||(s={});const{insertAt:l}=s;if(document.getElementById(t))return void console.warn(`[react-tooltip] Element with id '${t}' already exists. Call \`removeStyle()\` first`);const d=document.head||document.getElementsByTagName("head")[0],a=document.createElement("style");a.id=t,a.type="text/css",l==="top"&&d.firstChild?d.insertBefore(a,d.firstChild):d.appendChild(a),a.styleSheet?a.styleSheet.cssText=e:a.appendChild(document.createTextNode(e)),rn[o]=!0}const cn=(e,t,o)=>{let s=null;const r=function(...i){const l=()=>{s=null,o||e.apply(this,i)};o&&!s&&(e.apply(this,i),s=setTimeout(l,t)),o||(s&&clearTimeout(s),s=setTimeout(l,t))};return r.cancel=()=>{s&&(clearTimeout(s),s=null)},r},Ps="DEFAULT_TOOLTIP_ID",Fs={anchorRefs:new Set,activeAnchor:{current:null},attach:()=>{},detach:()=>{},setActiveAnchor:()=>{}},$s=c.createContext({getTooltipData:()=>Fs});function kn(e=Ps){return c.useContext($s).getTooltipData(e)}const Gs=typeof window<"u"?c.useLayoutEffect:c.useEffect,Vs=e=>{if(!(e instanceof HTMLElement||e instanceof SVGElement))return!1;const t=getComputedStyle(e);return["overflow","overflow-x","overflow-y"].some(o=>{const s=t.getPropertyValue(o);return s==="auto"||s==="scroll"})},an=e=>{if(!e)return null;let t=e.parentElement;for(;t;){if(Vs(t))return t;t=t.parentElement}return document.scrollingElement||document.documentElement},dn=async({elementReference:e=null,tooltipReference:t=null,tooltipArrowReference:o=null,place:s="top",offset:r=10,strategy:i="absolute",middlewares:l=[hs(Number(r)),Hs({fallbackAxisSideDirection:"start"}),Ds({padding:5})],border:d})=>{if(!e)return{tooltipStyles:{},tooltipArrowStyles:{},place:s};if(t===null)return{tooltipStyles:{},tooltipArrowStyles:{},place:s};const a=l;return o?(a.push(qs({element:o,padding:5})),on(e,t,{placement:s,strategy:i,middleware:a}).then(({x:f,y:g,placement:m,middlewareData:E})=>{var u,h;const p={left:`${f}px`,top:`${g}px`,border:d},{x,y:v}=(u=E.arrow)!==null&&u!==void 0?u:{x:0,y:0},_=(h={top:"bottom",right:"left",bottom:"top",left:"right"}[m.split("-")[0]])!==null&&h!==void 0?h:"bottom",w=d&&{borderBottom:d,borderRight:d};let R=0;if(d){const j=`${d}`.match(/(\d+)px/);R=j!=null&&j[1]?Number(j[1]):1}return{tooltipStyles:p,tooltipArrowStyles:{left:x!=null?`${x}px`:"",top:v!=null?`${v}px`:"",right:"",bottom:"",...w,[_]:`-${4+R}px`},place:m}})):on(e,t,{placement:"bottom",strategy:i,middleware:a}).then(({x:f,y:g,placement:m})=>({tooltipStyles:{left:`${f}px`,top:`${g}px`},tooltipArrowStyles:{},place:m}))},bt=e=>e!==null&&typeof e=="object",Ln=(e,t)=>{if(!bt(e)||!bt(t))return e===t;const o=Object.keys(e),s=Object.keys(t);return o.length===s.length&&o.every(r=>{const i=e[r],l=t[r];return bt(i)&&bt(l)?Ln(i,l):i===l})};var Pe={tooltip:"core-styles-module_tooltip__3vRRp",fixed:"core-styles-module_fixed__pcSol",arrow:"core-styles-module_arrow__cvMwQ",noArrow:"core-styles-module_noArrow__xock6",clickable:"core-styles-module_clickable__ZuTTB",show:"core-styles-module_show__Nt9eE",closing:"core-styles-module_closing__sGnxF"},Ot={tooltip:"styles-module_tooltip__mnnfp",arrow:"styles-module_arrow__K0L3T",dark:"styles-module_dark__xNqje",light:"styles-module_light__Z6W-X",success:"styles-module_success__A2AKt",warning:"styles-module_warning__SCK0X",error:"styles-module_error__JvumD",info:"styles-module_info__BWdHW"};const Ws=({forwardRef:e,id:t,className:o,classNameArrow:s,variant:r="dark",anchorId:i,anchorSelect:l,place:d="top",offset:a=10,events:f=["hover"],openOnClick:g=!1,positionStrategy:m="absolute",middlewares:E,wrapper:u,delayShow:h=0,delayHide:p=0,float:x=!1,hidden:v=!1,noArrow:_=!1,clickable:w=!1,closeOnEsc:R=!1,closeOnScroll:j=!1,closeOnResize:q=!1,openEvents:S,closeEvents:L,globalCloseEvents:b,imperativeModeOnly:I,style:B,position:O,afterShow:H,afterHide:A,content:N,contentWrapperRef:M,isOpen:z,defaultIsOpen:ee=!1,setIsOpen:me,activeAnchor:F,setActiveAnchor:Le,border:mt,opacity:pt,arrowColor:ht,role:At="tooltip"})=>{var We;const Q=c.useRef(null),Oe=c.useRef(null),Z=c.useRef(null),oe=c.useRef(null),je=c.useRef(null),[ge,Tt]=c.useState({tooltipStyles:{},tooltipArrowStyles:{},place:d}),[te,xt]=c.useState(!1),[Ee,Se]=c.useState(!1),[G,Ue]=c.useState(null),Ke=c.useRef(!1),Xe=c.useRef(null),{anchorRefs:Ye,setActiveAnchor:vt}=kn(t),Me=c.useRef(!1),[we,Ze]=c.useState([]),Ne=c.useRef(!1),Ie=g||f.includes("click"),Qe=Ie||(S==null?void 0:S.click)||(S==null?void 0:S.dblclick)||(S==null?void 0:S.mousedown),De=S?{...S}:{mouseenter:!0,focus:!0,click:!1,dblclick:!1,mousedown:!1};!S&&Ie&&Object.assign(De,{mouseenter:!1,focus:!1,click:!0});const Je=L?{...L}:{mouseleave:!0,blur:!0,click:!1,dblclick:!1,mouseup:!1};!L&&Ie&&Object.assign(Je,{mouseleave:!1,blur:!1});const ae=b?{...b}:{escape:R||!1,scroll:j||!1,resize:q||!1,clickOutsideAnchor:Qe||!1};I&&(Object.assign(De,{mouseenter:!1,focus:!1,click:!1,dblclick:!1,mousedown:!1}),Object.assign(Je,{mouseleave:!1,blur:!1,click:!1,dblclick:!1,mouseup:!1}),Object.assign(ae,{escape:!1,scroll:!1,resize:!1,clickOutsideAnchor:!1})),Gs(()=>(Ne.current=!0,()=>{Ne.current=!1}),[]);const W=y=>{Ne.current&&(y&&Se(!0),setTimeout(()=>{Ne.current&&(me==null||me(y),z===void 0&&xt(y))},10))};c.useEffect(()=>{if(z===void 0)return()=>null;z&&Se(!0);const y=setTimeout(()=>{xt(z)},10);return()=>{clearTimeout(y)}},[z]),c.useEffect(()=>{if(te!==Ke.current)if(je.current&&clearTimeout(je.current),Ke.current=te,te)H==null||H();else{const y=(T=>{const k=T.match(/^([\d.]+)(m?s?)$/);if(!k)return 0;const[,X,Y]=k;return Y!=="s"&&Y!=="ms"?0:Number(X)*(Y==="ms"?1:1e3)})(getComputedStyle(document.body).getPropertyValue("--rt-transition-show-delay"));je.current=setTimeout(()=>{Se(!1),Ue(null),A==null||A()},y+25)}},[te]);const gt=y=>{Tt(T=>Ln(T,y)?T:y)},et=(y=h)=>{Z.current&&clearTimeout(Z.current),Ee?W(!0):Z.current=setTimeout(()=>{W(!0)},y)},He=(y=p)=>{oe.current&&clearTimeout(oe.current),oe.current=setTimeout(()=>{Me.current||W(!1)},y)},tt=y=>{var T;if(!y)return;const k=(T=y.currentTarget)!==null&&T!==void 0?T:y.target;if(!(k!=null&&k.isConnected))return Le(null),void vt({current:null});h?et():W(!0),Le(k),vt({current:k}),oe.current&&clearTimeout(oe.current)},qe=()=>{w?He(p||100):p?He():W(!1),Z.current&&clearTimeout(Z.current)},Be=({x:y,y:T})=>{var k;const X={getBoundingClientRect:()=>({x:y,y:T,width:0,height:0,top:T,left:y,right:y,bottom:T})};dn({place:(k=G==null?void 0:G.place)!==null&&k!==void 0?k:d,offset:a,elementReference:X,tooltipReference:Q.current,tooltipArrowReference:Oe.current,strategy:m,middlewares:E,border:mt}).then(Y=>{gt(Y)})},ze=y=>{if(!y)return;const T=y,k={x:T.clientX,y:T.clientY};Be(k),Xe.current=k},nt=y=>{var T;if(!te)return;const k=y.target;k.isConnected&&(!((T=Q.current)===null||T===void 0)&&T.contains(k)||[document.querySelector(`[id='${i}']`),...we].some(X=>X==null?void 0:X.contains(k))||(W(!1),Z.current&&clearTimeout(Z.current)))},wt=cn(tt,50,!0),K=cn(qe,50,!0),re=y=>{K.cancel(),wt(y)},C=()=>{wt.cancel(),K()},D=c.useCallback(()=>{var y,T;const k=(y=G==null?void 0:G.position)!==null&&y!==void 0?y:O;k?Be(k):x?Xe.current&&Be(Xe.current):F!=null&&F.isConnected&&dn({place:(T=G==null?void 0:G.place)!==null&&T!==void 0?T:d,offset:a,elementReference:F,tooltipReference:Q.current,tooltipArrowReference:Oe.current,strategy:m,middlewares:E,border:mt}).then(X=>{Ne.current&&gt(X)})},[te,F,N,B,d,G==null?void 0:G.place,a,m,O,G==null?void 0:G.position,x]);c.useEffect(()=>{var y,T;const k=new Set(Ye);we.forEach(P=>{k.add({current:P})});const X=document.querySelector(`[id='${i}']`);X&&k.add({current:X});const Y=()=>{W(!1)},de=an(F),ue=an(Q.current);ae.scroll&&(window.addEventListener("scroll",Y),de==null||de.addEventListener("scroll",Y),ue==null||ue.addEventListener("scroll",Y));let J=null;ae.resize?window.addEventListener("resize",Y):F&&Q.current&&(J=Is(F,Q.current,D,{ancestorResize:!0,elementResize:!0,layoutShift:!0}));const le=P=>{P.key==="Escape"&&W(!1)};ae.escape&&window.addEventListener("keydown",le),ae.clickOutsideAnchor&&window.addEventListener("click",nt);const $=[],st=P=>{te&&(P==null?void 0:P.target)===F||tt(P)},Mn=P=>{te&&(P==null?void 0:P.target)===F&&qe()},Vt=["mouseenter","mouseleave","focus","blur"],Wt=["click","dblclick","mousedown","mouseup"];Object.entries(De).forEach(([P,pe])=>{pe&&(Vt.includes(P)?$.push({event:P,listener:re}):Wt.includes(P)&&$.push({event:P,listener:st}))}),Object.entries(Je).forEach(([P,pe])=>{pe&&(Vt.includes(P)?$.push({event:P,listener:C}):Wt.includes(P)&&$.push({event:P,listener:Mn}))}),x&&$.push({event:"pointermove",listener:ze});const Ut=()=>{Me.current=!0},Kt=()=>{Me.current=!1,qe()};return w&&!Qe&&((y=Q.current)===null||y===void 0||y.addEventListener("mouseenter",Ut),(T=Q.current)===null||T===void 0||T.addEventListener("mouseleave",Kt)),$.forEach(({event:P,listener:pe})=>{k.forEach(Rt=>{var ot;(ot=Rt.current)===null||ot===void 0||ot.addEventListener(P,pe)})}),()=>{var P,pe;ae.scroll&&(window.removeEventListener("scroll",Y),de==null||de.removeEventListener("scroll",Y),ue==null||ue.removeEventListener("scroll",Y)),ae.resize?window.removeEventListener("resize",Y):J==null||J(),ae.clickOutsideAnchor&&window.removeEventListener("click",nt),ae.escape&&window.removeEventListener("keydown",le),w&&!Qe&&((P=Q.current)===null||P===void 0||P.removeEventListener("mouseenter",Ut),(pe=Q.current)===null||pe===void 0||pe.removeEventListener("mouseleave",Kt)),$.forEach(({event:Rt,listener:ot})=>{k.forEach(In=>{var kt;(kt=In.current)===null||kt===void 0||kt.removeEventListener(Rt,ot)})})}},[F,D,Ee,Ye,we,S,L,b,Ie,h,p]),c.useEffect(()=>{var y,T;let k=(T=(y=G==null?void 0:G.anchorSelect)!==null&&y!==void 0?y:l)!==null&&T!==void 0?T:"";!k&&t&&(k=`[data-tooltip-id='${t}']`);const X=new MutationObserver(Y=>{const de=[],ue=[];Y.forEach(J=>{if(J.type==="attributes"&&J.attributeName==="data-tooltip-id"&&(J.target.getAttribute("data-tooltip-id")===t?de.push(J.target):J.oldValue===t&&ue.push(J.target)),J.type==="childList"){if(F){const le=[...J.removedNodes].filter($=>$.nodeType===1);if(k)try{ue.push(...le.filter($=>$.matches(k))),ue.push(...le.flatMap($=>[...$.querySelectorAll(k)]))}catch{}le.some($=>{var st;return!!(!((st=$==null?void 0:$.contains)===null||st===void 0)&&st.call($,F))&&(Se(!1),W(!1),Le(null),Z.current&&clearTimeout(Z.current),oe.current&&clearTimeout(oe.current),!0)})}if(k)try{const le=[...J.addedNodes].filter($=>$.nodeType===1);de.push(...le.filter($=>$.matches(k))),de.push(...le.flatMap($=>[...$.querySelectorAll(k)]))}catch{}}}),(de.length||ue.length)&&Ze(J=>[...J.filter(le=>!ue.includes(le)),...de])});return X.observe(document.body,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["data-tooltip-id"],attributeOldValue:!0}),()=>{X.disconnect()}},[t,l,G==null?void 0:G.anchorSelect,F]),c.useEffect(()=>{D()},[D]),c.useEffect(()=>{if(!(M!=null&&M.current))return()=>null;const y=new ResizeObserver(()=>{setTimeout(()=>D())});return y.observe(M.current),()=>{y.disconnect()}},[N,M==null?void 0:M.current]),c.useEffect(()=>{var y;const T=document.querySelector(`[id='${i}']`),k=[...we,T];F&&k.includes(F)||Le((y=we[0])!==null&&y!==void 0?y:T)},[i,we,F]),c.useEffect(()=>(ee&&W(!0),()=>{Z.current&&clearTimeout(Z.current),oe.current&&clearTimeout(oe.current)}),[]),c.useEffect(()=>{var y;let T=(y=G==null?void 0:G.anchorSelect)!==null&&y!==void 0?y:l;if(!T&&t&&(T=`[data-tooltip-id='${t}']`),T)try{const k=Array.from(document.querySelectorAll(T));Ze(k)}catch{Ze([])}},[t,l,G==null?void 0:G.anchorSelect]),c.useEffect(()=>{Z.current&&(clearTimeout(Z.current),et(h))},[h]);const ne=(We=G==null?void 0:G.content)!==null&&We!==void 0?We:N,Ce=te&&Object.keys(ge.tooltipStyles).length>0;return c.useImperativeHandle(e,()=>({open:y=>{if(y!=null&&y.anchorSelect)try{document.querySelector(y.anchorSelect)}catch{return void console.warn(`[react-tooltip] "${y.anchorSelect}" is not a valid CSS selector`)}Ue(y??null),y!=null&&y.delay?et(y.delay):W(!0)},close:y=>{y!=null&&y.delay?He(y.delay):W(!1)},activeAnchor:F,place:ge.place,isOpen:!!(Ee&&!v&&ne&&Ce)})),Ee&&!v&&ne?_e.createElement(u,{id:t,role:At,className:U("react-tooltip",Pe.tooltip,Ot.tooltip,Ot[r],o,`react-tooltip__place-${ge.place}`,Pe[Ce?"show":"closing"],Ce?"react-tooltip__show":"react-tooltip__closing",m==="fixed"&&Pe.fixed,w&&Pe.clickable),onTransitionEnd:y=>{je.current&&clearTimeout(je.current),te||y.propertyName!=="opacity"||(Se(!1),Ue(null),A==null||A())},style:{...B,...ge.tooltipStyles,opacity:pt!==void 0&&Ce?pt:void 0},ref:Q},ne,_e.createElement(u,{className:U("react-tooltip-arrow",Pe.arrow,Ot.arrow,s,_&&Pe.noArrow),style:{...ge.tooltipArrowStyles,background:ht?`linear-gradient(to right bottom, transparent 50%, ${ht} 50%)`:void 0},ref:Oe})):null},Us=({content:e})=>_e.createElement("span",{dangerouslySetInnerHTML:{__html:e}}),un=(e,t)=>!("CSS"in window&&"supports"in window.CSS)||window.CSS.supports(e,t),Ks=_e.forwardRef(({id:e,anchorId:t,anchorSelect:o,content:s,html:r,render:i,className:l,classNameArrow:d,variant:a="dark",place:f="top",offset:g=10,wrapper:m="div",children:E=null,events:u=["hover"],openOnClick:h=!1,positionStrategy:p="absolute",middlewares:x,delayShow:v=0,delayHide:_=0,float:w=!1,hidden:R=!1,noArrow:j=!1,clickable:q=!1,closeOnEsc:S=!1,closeOnScroll:L=!1,closeOnResize:b=!1,openEvents:I,closeEvents:B,globalCloseEvents:O,imperativeModeOnly:H=!1,style:A,position:N,isOpen:M,defaultIsOpen:z=!1,disableStyleInjection:ee=!1,border:me,opacity:F,arrowColor:Le,setIsOpen:mt,afterShow:pt,afterHide:ht,role:At="tooltip"},We)=>{const[Q,Oe]=c.useState(s),[Z,oe]=c.useState(r),[je,ge]=c.useState(f),[Tt,te]=c.useState(a),[xt,Ee]=c.useState(g),[Se,G]=c.useState(v),[Ue,Ke]=c.useState(_),[Xe,Ye]=c.useState(w),[vt,Me]=c.useState(R),[we,Ze]=c.useState(m),[Ne,Ie]=c.useState(u),[Qe,De]=c.useState(p),[Je,ae]=c.useState(null),[W,gt]=c.useState(null),et=c.useRef(ee),{anchorRefs:He,activeAnchor:tt}=kn(e),qe=K=>K==null?void 0:K.getAttributeNames().reduce((re,C)=>{var D;return C.startsWith("data-tooltip-")&&(re[C.replace(/^data-tooltip-/,"")]=(D=K==null?void 0:K.getAttribute(C))!==null&&D!==void 0?D:null),re},{}),Be=K=>{const re={place:C=>{var D;ge((D=C)!==null&&D!==void 0?D:f)},content:C=>{Oe(C??s)},html:C=>{oe(C??r)},variant:C=>{var D;te((D=C)!==null&&D!==void 0?D:a)},offset:C=>{Ee(C===null?g:Number(C))},wrapper:C=>{var D;Ze((D=C)!==null&&D!==void 0?D:m)},events:C=>{const D=C==null?void 0:C.split(" ");Ie(D??u)},"position-strategy":C=>{var D;De((D=C)!==null&&D!==void 0?D:p)},"delay-show":C=>{G(C===null?v:Number(C))},"delay-hide":C=>{Ke(C===null?_:Number(C))},float:C=>{Ye(C===null?w:C==="true")},hidden:C=>{Me(C===null?R:C==="true")},"class-name":C=>{ae(C)}};Object.values(re).forEach(C=>C(null)),Object.entries(K).forEach(([C,D])=>{var ne;(ne=re[C])===null||ne===void 0||ne.call(re,D)})};c.useEffect(()=>{Oe(s)},[s]),c.useEffect(()=>{oe(r)},[r]),c.useEffect(()=>{ge(f)},[f]),c.useEffect(()=>{te(a)},[a]),c.useEffect(()=>{Ee(g)},[g]),c.useEffect(()=>{G(v)},[v]),c.useEffect(()=>{Ke(_)},[_]),c.useEffect(()=>{Ye(w)},[w]),c.useEffect(()=>{Me(R)},[R]),c.useEffect(()=>{De(p)},[p]),c.useEffect(()=>{et.current!==ee&&console.warn("[react-tooltip] Do not change `disableStyleInjection` dynamically.")},[ee]),c.useEffect(()=>{typeof window<"u"&&window.dispatchEvent(new CustomEvent("react-tooltip-inject-styles",{detail:{disableCore:ee==="core",disableBase:ee}}))},[]),c.useEffect(()=>{var K;const re=new Set(He);let C=o;if(!C&&e&&(C=`[data-tooltip-id='${e}']`),C)try{document.querySelectorAll(C).forEach(T=>{re.add({current:T})})}catch{console.warn(`[react-tooltip] "${C}" is not a valid CSS selector`)}const D=document.querySelector(`[id='${t}']`);if(D&&re.add({current:D}),!re.size)return()=>null;const ne=(K=W??D)!==null&&K!==void 0?K:tt.current,Ce=new MutationObserver(T=>{T.forEach(k=>{var X;if(!ne||k.type!=="attributes"||!(!((X=k.attributeName)===null||X===void 0)&&X.startsWith("data-tooltip-")))return;const Y=qe(ne);Be(Y)})}),y={attributes:!0,childList:!1,subtree:!1};if(ne){const T=qe(ne);Be(T),Ce.observe(ne,y)}return()=>{Ce.disconnect()}},[He,tt,W,t,o]),c.useEffect(()=>{A!=null&&A.border&&console.warn("[react-tooltip] Do not set `style.border`. Use `border` prop instead."),me&&!un("border",`${me}`)&&console.warn(`[react-tooltip] "${me}" is not a valid \`border\`.`),A!=null&&A.opacity&&console.warn("[react-tooltip] Do not set `style.opacity`. Use `opacity` prop instead."),F&&!un("opacity",`${F}`)&&console.warn(`[react-tooltip] "${F}" is not a valid \`opacity\`.`)},[]);let ze=E;const nt=c.useRef(null);if(i){const K=i({content:(W==null?void 0:W.getAttribute("data-tooltip-content"))||Q||null,activeAnchor:W});ze=K?_e.createElement("div",{ref:nt,className:"react-tooltip-content-wrapper"},K):null}else Q&&(ze=Q);Z&&(ze=_e.createElement(Us,{content:Z}));const wt={forwardRef:We,id:e,anchorId:t,anchorSelect:o,className:U(l,Je),classNameArrow:d,content:ze,contentWrapperRef:nt,place:je,variant:Tt,offset:xt,wrapper:we,events:Ne,openOnClick:h,positionStrategy:Qe,middlewares:x,delayShow:Se,delayHide:Ue,float:Xe,hidden:vt,noArrow:j,clickable:q,closeOnEsc:S,closeOnScroll:L,closeOnResize:b,openEvents:I,closeEvents:B,globalCloseEvents:O,imperativeModeOnly:H,style:A,position:N,isOpen:M,defaultIsOpen:z,border:me,opacity:F,arrowColor:Le,setIsOpen:mt,afterShow:pt,afterHide:ht,activeAnchor:W,setActiveAnchor:K=>gt(K),role:At};return _e.createElement(Ws,{...wt})});typeof window<"u"&&window.addEventListener("react-tooltip-inject-styles",e=>{e.detail.disableCore||ln({css:":root{--rt-color-white:#fff;--rt-color-dark:#222;--rt-color-success:#8dc572;--rt-color-error:#be6464;--rt-color-warning:#f0ad4e;--rt-color-info:#337ab7;--rt-opacity:0.9;--rt-transition-show-delay:0.15s;--rt-transition-closing-delay:0.15s}.core-styles-module_tooltip__3vRRp{position:absolute;top:0;left:0;pointer-events:none;opacity:0;will-change:opacity}.core-styles-module_fixed__pcSol{position:fixed}.core-styles-module_arrow__cvMwQ{position:absolute;background:inherit}.core-styles-module_noArrow__xock6{display:none}.core-styles-module_clickable__ZuTTB{pointer-events:auto}.core-styles-module_show__Nt9eE{opacity:var(--rt-opacity);transition:opacity var(--rt-transition-show-delay)ease-out}.core-styles-module_closing__sGnxF{opacity:0;transition:opacity var(--rt-transition-closing-delay)ease-in}",type:"core"}),e.detail.disableBase||ln({css:`
.styles-module_tooltip__mnnfp{padding:8px 16px;border-radius:3px;font-size:90%;width:max-content}.styles-module_arrow__K0L3T{width:8px;height:8px}[class*='react-tooltip__place-top']>.styles-module_arrow__K0L3T{transform:rotate(45deg)}[class*='react-tooltip__place-right']>.styles-module_arrow__K0L3T{transform:rotate(135deg)}[class*='react-tooltip__place-bottom']>.styles-module_arrow__K0L3T{transform:rotate(225deg)}[class*='react-tooltip__place-left']>.styles-module_arrow__K0L3T{transform:rotate(315deg)}.styles-module_dark__xNqje{background:var(--rt-color-dark);color:var(--rt-color-white)}.styles-module_light__Z6W-X{background-color:var(--rt-color-white);color:var(--rt-color-dark)}.styles-module_success__A2AKt{background-color:var(--rt-color-success);color:var(--rt-color-white)}.styles-module_warning__SCK0X{background-color:var(--rt-color-warning);color:var(--rt-color-white)}.styles-module_error__JvumD{background-color:var(--rt-color-error);color:var(--rt-color-white)}.styles-module_info__BWdHW{background-color:var(--rt-color-info);color:var(--rt-color-white)}`,type:"base"})});const Bt=e=>{const{className:t,id:o,content:s,children:r,place:i}=e;return n.jsxs(n.Fragment,{children:[n.jsx("div",{"data-tooltip-id":o,"data-tooltip-content":s,children:r}),n.jsx(Ks,{id:o,place:i,className:t})]})},Xs=e=>c.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 20 20",...e},c.createElement("g",{fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"},c.createElement("path",{d:"M15.347 7.116a.5.5 0 0 1 .704.064l2.083 2.5a.5.5 0 0 1-.768.64l-2.083-2.5a.5.5 0 0 1 .064-.704"}),c.createElement("path",{d:"M15.347 12.884a.5.5 0 0 1-.064-.704l2.083-2.5a.5.5 0 1 1 .768.64l-2.083 2.5a.5.5 0 0 1-.704.064"}),c.createElement("path",{d:"M17.5 10a.5.5 0 0 1-.5.5H9.5a.5.5 0 0 1 0-1H17a.5.5 0 0 1 .5.5m-14-7a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1H4a.5.5 0 0 1-.5-.5m0 14a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1H4a.5.5 0 0 1-.5-.5"}),c.createElement("path",{d:"M13 2.5a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-1 0V3a.5.5 0 0 1 .5-.5m0 10a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-1 0v-4a.5.5 0 0 1 .5-.5m-9-10a.5.5 0 0 1 .5.5v14a.5.5 0 0 1-1 0V3a.5.5 0 0 1 .5-.5"}))),Ys=e=>c.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",...e},c.createElement("path",{fill:"currentColor",d:"M11 13H6q-.425 0-.712-.288T5 12q0-.425.288-.712T6 11h5V6q0-.425.288-.712T12 5q.425 0 .713.288T13 6v5h5q.425 0 .713.288T19 12q0 .425-.288.713T18 13h-5v5q0 .425-.288.713T12 19q-.425 0-.712-.288T11 18z"})),Zs=e=>c.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",...e},c.createElement("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",d:"m5 16l-1 4l4-1L19.586 7.414a2 2 0 0 0 0-2.828l-.172-.172a2 2 0 0 0-2.828 0zM15 6l3 3m-5 11h8"})),On=e=>c.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",...e},c.createElement("path",{fill:"currentColor",d:"M7.615 20q-.666 0-1.14-.475Q6 19.051 6 18.385V6h-.5q-.213 0-.356-.144T5 5.499q0-.212.144-.356Q5.288 5 5.5 5H9q0-.31.23-.54q.23-.23.54-.23h4.46q.31 0 .54.23q.23.23.23.54h3.5q.213 0 .356.144q.144.144.144.357q0 .212-.144.356Q18.713 6 18.5 6H18v12.385q0 .666-.475 1.14q-.474.475-1.14.475zM17 6H7v12.385q0 .269.173.442t.442.173h8.77q.269 0 .442-.173t.173-.442zm-6.692 11q.213 0 .356-.144q.144-.144.144-.356v-8q0-.213-.144-.356T10.307 8q-.213 0-.356.144t-.143.356v8q0 .213.144.356t.356.144m3.385 0q.213 0 .356-.144t.143-.356v-8q0-.213-.144-.356T13.692 8q-.213 0-.356.144q-.144.144-.144.356v8q0 .213.144.356t.357.144M7 6v13z"})),Qs=e=>{const{conversation:t,close:o,...s}=e,[r,i]=c.useState(t),{user:l}=he(j=>j.userReducer),d=r.members.find(j=>j.id!==l.id),a=r.isGroup,f=r.isCloud,g=r.ownerId===l.id,m=it(),E=pn(),{t:u}=Ve(),{appendDialog:h}=at(),p=()=>{o&&o()},x=j=>{i(j)},v=j=>{h(n.jsx(ns,{type:j,conversationEdit:r,handleAfterUpdateConversation:x}))},_=j=>{h(n.jsx(Lt,{title:u("are_you_sure"),content:u("kick_content"),onClick:()=>{const q={conversationId:r.id,userId:j.id};m(Dn(q,S=>{m(hn(S)),i(S),lt(u("deleted_user"))},()=>{}))}}))},w=()=>{h(n.jsx(Lt,{title:u("are_you_sure"),content:u("leave_group_content"),onClick:()=>{const j={conversationId:r.id,userId:l.id};m(Hn(j,q=>{m(Xt(q)),E.push("/")},()=>{}))}}))},R=()=>{h(n.jsx(Lt,{title:u("are_you_sure"),content:u("remove_group_content"),onClick:()=>{const j={conversationId:r.id};m(qn(j,()=>{m(Xt(r)),E.push("/"),lt(u("remove_group_success"))},()=>{}))}}))};return n.jsxs(ce,{...s,className:"p-5 rounded-lg overflow-scroll relative",closeRight:!0,close:p,children:[n.jsx(ce.Header,{className:"text-lg text-center font-semibold",children:u("conversation_info")}),n.jsxs(ce.Body,{className:"text-3.25 mt-6 whitespace-break",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx(Te,{className:"!w-20 !h-20",url:r.avatar}),n.jsxs("p",{className:"font-semibold text-xl line-clamp-1 flex items-center space-x-2",children:[n.jsx("span",{children:r.name}),g&&n.jsx("span",{className:"cursor-pointer",onClick:()=>v("EDIT"),children:n.jsx(Zs,{})})]})]}),!a&&!f&&n.jsxs("div",{className:"mt-6 mb-2 flex flex-col space-y-2",children:[n.jsx("p",{className:"w-full",children:n.jsxs("span",{children:[u("email")," ",d==null?void 0:d.email]})}),n.jsx("p",{className:"w-full",children:n.jsxs("span",{children:[u("phone")," ********"]})}),n.jsx("p",{className:"w-full",children:n.jsxs("span",{children:[u("dob")," ********"]})})]}),a&&n.jsxs("div",{className:"mt-4 mb-2 flex flex-col space-y-2",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("p",{children:[u("members")," (",r.members.length,")"]}),g&&n.jsx(Bt,{className:"",id:"add_user",content:u("add_user"),children:n.jsx("p",{className:"text-2xl cursor-pointer duration-300 rounded hover:bg-pink1 hover:text-primaryHover",onClick:()=>v("ADD_USER"),children:n.jsx(Ys,{})})})]}),n.jsx("div",{className:"flex flex-col space-y-4 max-h-72 overflow-y-scroll",children:r.members.map(j=>n.jsxs("div",{className:"flex items-center space-x-4 justify-between cursor-pointer group",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx(Te,{className:"",url:j.avatar}),n.jsx("p",{className:"line-clamp-1",children:j.name})]}),g&&j.id!==r.ownerId&&n.jsx(rt,{className:"text-red hidden group-hover:flex px-2",onClick:()=>_(j),children:u("kick")})]},j.id))})]}),a&&!g&&n.jsxs("div",{className:"flex items-center space-x-4 cursor-pointer text-red mt-4 hover:text-gray1 duration-300",onClick:w,children:[n.jsx("span",{className:"text-xl",children:n.jsx(Xs,{})}),n.jsx("p",{children:u("leave_group")})]}),a&&g&&n.jsxs("div",{className:"flex items-center space-x-4 cursor-pointer text-red mt-4 hover:text-gray1 duration-300",onClick:R,children:[n.jsx("span",{className:"text-xl",children:n.jsx(On,{})}),n.jsx("p",{children:u("remove_group")})]})]})]})},Js=e=>c.createElement("svg",{fill:"var(--mwp-header-button-color)",height:"28px",role:"presentation",viewBox:"0 0 36 36",width:"28px",...e},c.createElement("path",{d:"M12.5 18C12.5 19.2426 11.4926 20.25 10.25 20.25C9.00736 20.25 8 19.2426 8 18C8 16.7574 9.00736 15.75 10.25 15.75C11.4926 15.75 12.5 16.7574 12.5 18Z",fill:"var(--mwp-header-button-color)"}),c.createElement("path",{d:"M20.25 18C20.25 19.2426 19.2426 20.25 18 20.25C16.7574 20.25 15.75 19.2426 15.75 18C15.75 16.7574 16.7574 15.75 18 15.75C19.2426 15.75 20.25 16.7574 20.25 18Z",fill:"var(--mwp-header-button-color)"}),c.createElement("path",{d:"M25.75 20.25C26.9926 20.25 28 19.2426 28 18C28 16.7574 26.9926 15.75 25.75 15.75C24.5074 15.75 23.5 16.7574 23.5 18C23.5 19.2426 24.5074 20.25 25.75 20.25Z",fill:"var(--mwp-header-button-color)"})),eo=e=>c.createElement("svg",{viewBox:"6 6 24 24",fill:"currentColor",width:20,height:20,className:"x19dipnz x1lliihq x1k90msu x2h7rmj x1qfuztq",overflow:"visible",style:{"--color":"var(--primary-icon)"},...e},c.createElement("path",{d:"M25.753 28.2c1.07-.357 1.816-1.275 2.423-2.225a2.05 2.05 0 0 0 .037-2.151 4.998 4.998 0 0 0-.723-.963 11.594 11.594 0 0 0-2.888-2.112c-.58-.299-1.272-.212-1.808.159l-2.098 1.452a.472.472 0 0 1-.437.055 11.557 11.557 0 0 1-4.045-2.63 11.554 11.554 0 0 1-2.63-4.044.472.472 0 0 1 .056-.437l1.453-2.098c.37-.536.457-1.228.158-1.807A11.587 11.587 0 0 0 13.14 8.51a4.995 4.995 0 0 0-.963-.723 2.05 2.05 0 0 0-2.15.037c-.951.607-1.87 1.353-2.225 2.424-1.174 3.527 1.187 8.461 5.338 12.613 4.152 4.151 9.086 6.512 12.614 5.338z"})),to=e=>c.createElement("svg",{viewBox:"6 6 24 24",fill:"currentColor",width:20,height:20,className:"x19dipnz x1lliihq x1k90msu x2h7rmj x1qfuztq",overflow:"visible",style:{"--color":"var(--primary-icon)"},...e},c.createElement("path",{d:"M9 9.5a4 4 0 0 0-4 4v9a4 4 0 0 0 4 4h10a4 4 0 0 0 4-4v-9a4 4 0 0 0-4-4H9zM25.829 21.532l3.723 1.861A1 1 0 0 0 31 22.5V13.5a1 1 0 0 0-1.448-.894l-3.723 1.861A1.5 1.5 0 0 0 25 15.81v4.38a1.5 1.5 0 0 0 .829 1.342z"}));const Mt=e=>{const{icon:t,className:o,onClick:s}=e,[r,i]=c.useState(!1),l=()=>{i(!r),s&&s()};return n.jsx("div",{className:U("icon",o,{active:r}),onClick:l,children:t})},no=()=>{const{conversation:e}=he(r=>r.conversationReducer),{currentConversation:t}=e,{appendDialog:o}=at(),s=()=>{o(n.jsx(Qs,{conversation:t}))};return n.jsxs("div",{className:"flex items-center bg-white px-3 border-b border-gray2 h-20",children:[n.jsxs("div",{className:"flex items-center flex-1 space-x-2",children:[n.jsx(Te,{className:"cursor-pointer !w-10 !h-10",url:t==null?void 0:t.avatar,onClick:s}),n.jsx("p",{className:"font-medium text-black1 line-clamp-1",children:t==null?void 0:t.name})]}),n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("div",{className:"text-2xl cursor-pointer",children:n.jsx(Mt,{icon:n.jsx(eo,{})})}),n.jsx("div",{className:"text-2xl cursor-pointer",children:n.jsx(Mt,{icon:n.jsx(to,{})})}),n.jsx("div",{className:"text-2xl cursor-pointer",children:n.jsx(Mt,{icon:n.jsx(Js,{})})})]})]})};const so=e=>{const{className:t,onClick:o}=e,s=r=>{o&&o(r)};return n.jsx("div",{className:U("flex items-center space-x-2 bg-white border border-gray2 px-3 py-1 rounded-full z-10",t),children:Object.values(xn).map(r=>n.jsx("span",{className:"text-2xl cursor-pointer hover:scale-125 duration-300",onClick:()=>s(r.value),children:r.text},r.value))})},oo=e=>{const{url:t}=e,{dialogs:o,closeCurrentDialog:s}=at(),r=()=>{s(o.length-1)};return n.jsx(ce,{className:"rounded-xl !overflow-visible !max-w-7/10 !bg-transparent flex items-center justify-center",showCloseBtn:!1,children:n.jsxs(ce.Body,{className:"relative h-full",children:[n.jsx("button",{className:"absolute -right-3 -top-3 bg-gray8 z-1 rounded-full p-1.5",onClick:r,children:n.jsx(It,{})}),n.jsx("a",{target:"_blank",href:t,className:"w-full h-full max-h-8/10 overflow-hidden",children:n.jsx("img",{src:t,className:"w-auto h-auto max-h-9/10"})})]})})},fn=e=>{const{src:t,...o}=e,{appendDialog:s}=at(),r=()=>{s(n.jsx(oo,{url:t||""}))};return n.jsx("img",{src:t,onClick:r,...o})},ro=e=>{const{message:t,close:o,...s}=e,[r,i]=c.useState([]),[l,d]=c.useState([]),{userManagement:a,user:f}=he(w=>w.userReducer),{conversation:g}=he(w=>w.conversationReducer),m=Object.values(g==null?void 0:g.allConversations),E=m.filter(w=>w.isGroup),u=it(),{t:h}=Ve();c.useEffect(()=>{a!=null&&a.allUsers&&i(a==null?void 0:a.allUsers)},[a]),c.useEffect(()=>{d(E)},[]);const p=()=>{o&&o()},x=w=>{if(!w.conversationId){const R={members:[w.id,f.id]};u(Bn(R,j=>{u(zn([j,...m])),v(j.id)},()=>{}));return}v(w.conversationId)},v=w=>{const R={conversationId:w,sender:f.id,content:t.content,type:t.type};u(vn(R,()=>{},()=>{}))},_=w=>{var S;const R=w.target.value.toLowerCase();if(!R){i(a==null?void 0:a.allUsers);return}const j=(S=a==null?void 0:a.allUsers)==null?void 0:S.filter(L=>L.name.toLowerCase().includes(R)),q=E.filter(L=>L.name.toLowerCase().includes(R));i(j),d(q)};return n.jsxs(ce,{...s,className:"p-5 rounded-lg overflow-scroll relative",closeRight:!0,close:p,children:[n.jsx(ce.Header,{className:"text-lg text-center font-semibold",children:h("forward")}),n.jsxs(ce.Body,{className:"text-3.25 pt-2 whitespace-break",children:[n.jsxs("div",{className:"my-4 border border-gray2 rounded-full flex items-center space-x-2 px-4",children:[n.jsx(ss,{}),n.jsx(wn,{className:"bg-transparent py-1.5",placeholder:h("search_user_or_group"),onChange:_})]}),n.jsxs("div",{className:"min-h-88 max-h-88 overflow-y-scroll",children:[n.jsxs("div",{className:"flex flex-col space-y-4",children:[r.length>0&&n.jsx("span",{className:"font-semibold",children:h("all_user")}),r.map(w=>n.jsxs("div",{className:"flex items-center",children:[n.jsxs("div",{className:"flex items-center space-x-4 grow",children:[n.jsx(Te,{className:"",url:w.avatar}),n.jsx("p",{className:"line-clamp-1",children:w.name})]}),n.jsx(rt,{className:"bg-primaryHover px-3 py-1.5 cursor-pointer rounded-md text-sm text-white font-medium duration-300 hover:bg-primary",onClick:()=>x(w),children:h("send")})]},w.id))]}),n.jsxs("div",{className:"flex flex-col space-y-4 mt-4",children:[l.length>0&&n.jsx("span",{className:"font-semibold",children:h("all_group")}),l.map(w=>n.jsxs("div",{className:"flex items-center",children:[n.jsxs("div",{className:"flex items-center space-x-4 grow",children:[n.jsx(Te,{className:"",url:w.avatar}),n.jsx("p",{className:"line-clamp-1",children:w.name})]}),n.jsx(rt,{className:"bg-primaryHover px-3 py-1.5 cursor-pointer rounded-md text-sm text-white font-medium duration-300 hover:bg-primary",onClick:()=>v(w.id),children:h("send")})]},w.id))]})]})]})]})},lo=e=>c.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 256 256",...e},c.createElement("path",{fill:"currentColor",d:"M128 24a104 104 0 0 0-91.82 152.88l-11.35 34.05a16 16 0 0 0 20.24 20.24l34.05-11.35A104 104 0 1 0 128 24m32 128H96a8 8 0 0 1 0-16h64a8 8 0 0 1 0 16m0-32H96a8 8 0 0 1 0-16h64a8 8 0 0 1 0 16"})),co=e=>c.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",...e},c.createElement("path",{d:"M12 22c5.514 0 10-4.486 10-10S17.514 2 12 2S2 6.486 2 12s4.486 10 10 10zm3.493-13a1.494 1.494 0 1 1-.001 2.987A1.494 1.494 0 0 1 15.493 9zm-4.301 6.919a4.108 4.108 0 0 0 1.616 0c.253-.052.505-.131.75-.233c.234-.1.464-.224.679-.368c.208-.142.407-.306.591-.489c.183-.182.347-.381.489-.592l1.658 1.117a6.027 6.027 0 0 1-1.619 1.621a6.003 6.003 0 0 1-2.149.904a6.116 6.116 0 0 1-2.414-.001a5.919 5.919 0 0 1-2.148-.903a6.078 6.078 0 0 1-1.621-1.622l1.658-1.117c.143.211.307.41.488.59a3.988 3.988 0 0 0 2.022 1.093zM8.5 9a1.5 1.5 0 1 1-.001 3.001A1.5 1.5 0 0 1 8.5 9z",fill:"currentColor"})),mn=e=>c.createElement("svg",{viewBox:"6 6 24 24",fill:"currentColor",width:"1em",height:"1em",className:"x19dipnz x1lliihq",overflow:"visible",style:{"--color":"var(--icon-secondary-color)"},...e},c.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18.001 24.4c0 1.278-1.335 2.04-2.333 1.332l-9.004-6.399c-.891-.633-.89-2.028 0-2.661l9.004-6.398c.998-.71 2.333.053 2.333 1.33l.001 3.147c0 .138.114.25.252.251 6.999.076 11.74 3.317 11.742 10.986 0 .594-.411 1.012-1.033 1.012-.46 0-.844-.265-1.114-1.083-1.129-3.409-4.431-4.87-9.595-4.916a.25.25 0 0 0-.252.249v3.15z"})),io=e=>c.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 256 256",...e},c.createElement("path",{fill:"currentColor",d:"M233.91 82.79L173.22 22.1a14 14 0 0 0-19.81 0L98.93 76.77c-9.52-3.25-34-8.34-59.71 12.41A14 14 0 0 0 38.1 110l49.71 49.71l-44.05 44a6 6 0 1 0 8.48 8.48l44.05-44.05L146 217.89a14 14 0 0 0 9.9 4.11h1a14 14 0 0 0 10.19-5.54c19.72-26.21 17.15-47.23 12.46-59.3l54.37-54.55a14 14 0 0 0-.01-19.82m-8.49 11.31l-57.27 57.46a6 6 0 0 0-1.11 6.92c9.94 19.88-1.71 40.32-9.54 50.72a2 2 0 0 1-3 .2L46.58 101.51a2 2 0 0 1 .18-3c12.5-10.09 24.5-12.76 33.7-12.76a42.13 42.13 0 0 1 17.25 3.41a6 6 0 0 0 6.93-1.16l57.26-57.41a2 2 0 0 1 2.83 0l60.69 60.68a2 2 0 0 1 0 2.83"})),ao=e=>c.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",...e},c.createElement("g",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"},c.createElement("path",{d:"M16 3H4v13"}),c.createElement("path",{d:"M8 7h12v12a2 2 0 0 1-2 2h-8a2 2 0 0 1-2-2z"}))),uo=e=>c.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16px",height:"16px",viewBox:"0 0 24 24",...e},c.createElement("path",{fill:"currentColor",d:"m10.562 14.492l-2.497-2.496q-.14-.14-.344-.15t-.363.15t-.16.354t.16.354l2.638 2.638q.242.243.566.243t.565-.243l5.477-5.477q.14-.14.15-.344t-.15-.363t-.354-.16t-.354.16zM12.003 21q-1.866 0-3.51-.708q-1.643-.709-2.859-1.924t-1.925-2.856T3 12.003t.708-3.51t1.924-2.859t2.856-1.925T11.997 3t3.51.708t2.859 1.924t1.925 2.856t.709 3.509t-.708 3.51t-1.924 2.859t-2.856 1.925t-3.509.709"})),fo=e=>{var O,H,A;const{message:t,showAvatar:o,isShowName:s,isLastOfSection:r,isLast:i,isShowDayName:l,isShowStartTime:d}=e,{user:a}=he(N=>N.userReducer),{t:f}=Ve(),{appendDialog:g}=at(),m=it(),E=c.useRef(),u=c.useRef(),h=t.isDeleted,p=t.type===V.IMAGE_LIST?t.content.split(","):[],x=p.length,v=a.id===t.sender.id,_=Pn(t.content);let w=!1;for(const N in t.reactions)if(t.reactions.hasOwnProperty(N)&&t.reactions[N].length>0){w=!0;break}const R=N=>h?n.jsx("p",{className:"text-gray3",children:n.jsx("i",{children:f("deleted_message")})}):n.jsx(Bt,{className:"!bg-black2 z-10",id:N.id,content:Yt(N.createdAt),place:"top-start",children:n.jsxs(n.Fragment,{children:[N.type===V.TEXT&&n.jsx("span",{className:U({"text-2xl":_}),dangerouslySetInnerHTML:{__html:$n(N.content,v)}}),N.type===V.IMAGE&&n.jsx(fn,{className:"rounded-2xl object-cover min-h-96 max-h-96 max-w-xl cursor-pointer",src:N.content}),N.type===V.IMAGE_LIST&&n.jsx("div",{className:"grid grid-cols-6 gap-2",children:p.map((M,z)=>n.jsx("div",{className:U("cursor-pointer col-span-6",{"!col-span-3":x>1}),children:n.jsx(fn,{className:"rounded-lg min-h-96 object-cover max-h-96 max-w-xl",src:M})},z))})]})}),j=N=>{var M;return N.replyMessage.isDeleted?n.jsx("p",{className:"text-gray3",children:n.jsx("i",{children:f("deleted_message")})}):n.jsxs(n.Fragment,{children:[((M=N.replyMessage)==null?void 0:M.type)===V.IMAGE&&n.jsx("div",{children:n.jsx("img",{className:"min-w-12 w-12 h-12 object-cover",src:N.replyMessage.content})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-semibold",children:N.replyMessage.sender.name}),n.jsx("p",{className:"line-clamp-1 text-ellipsis pr-2 text-sm text-gray3",children:N.replyMessage.type===V.IMAGE?f("image"):N.replyMessage.content})]})]})},q=()=>{const N={conversationId:t.conversationId,message:t};m(Gn(N))},S=N=>{const M={messageId:t.id,sender:a.id,reactValue:N};m(Vn(M,()=>{},()=>{}))},L=()=>{g(n.jsx(ro,{message:t}))},b=()=>{var N;(N=E.current)==null||N.closePopover()},I=()=>{m(Wn({id:t.id},()=>{},()=>{}))},B=()=>{const N=t.content;navigator.clipboard.writeText(N),lt("copied"),b()};return!h&&(t.type,V.IMAGE_LIST),t.type===V.NOTIFY?n.jsxs("div",{className:"flex justify-center items-center space-x-2",children:[n.jsx(Te,{className:"w-6 h-6",url:t.sender.avatar}),n.jsxs("p",{className:"flex items-center space-x-1 text-gray3",children:[n.jsx("span",{children:t.sender.name}),n.jsx("span",{children:f(t.content)})]})]}):n.jsxs("div",{className:U("flex flex-col w-full relative",{me:v,him:!v,last:r}),children:[l&&n.jsx("p",{className:"text-center my-3 text-gray3 text-xs",children:Fn(t.createdAt)}),d&&!l&&n.jsx("p",{className:"text-center my-3 text-gray3 text-xs",children:Yt(t.createdAt)}),n.jsxs("div",{className:U("flex w-full relative",{me:v,him:!v,last:r}),children:[!v&&n.jsx("div",{className:U({"opacity-0":!o}),children:n.jsx(Te,{className:"w-7 h-7",url:t.sender.avatar})}),n.jsxs("div",{className:U("flex flex-col items-start h-full w-full group",{"items-end":v}),onMouseLeave:b,children:[s&&!v&&!((O=t.replyMessage)!=null&&O.id)&&n.jsx("p",{className:"text-gray5 text-xs mb-1 ml-2",children:t.sender.name}),((H=t.replyMessage)==null?void 0:H.id)&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"flex items-center space-x-1 text-xs text-gray5 mt-2 mb-1 ml-2",children:[n.jsx("div",{className:"text-sm",children:n.jsx(mn,{})}),n.jsxs("span",{children:[t.sender.id===a.id?f("you"):t.sender.name," ",f("replied")," "]})]}),n.jsx("div",{className:"bg-gray9 p-2 mb-0.5 rounded-lg max-w-7/10 ml-2",children:n.jsx("div",{className:U("border-l-4 border-primary pl-2",{"flex items-center space-x-2":((A=t.replyMessage)==null?void 0:A.type)===V.IMAGE}),children:j(t)})})]}),n.jsxs("div",{className:U("message-content min-w-9 min-h-9 max-w-7/10 relative px-3 py-1.5 flex items-center justify-center",{"bg-gray8 ml-2":!v,"bg-primaryHover text-white":v,"!p-0 !bg-transparent":t.type===V.IMAGE||t.type===V.IMAGE_LIST,"bg-transparent !p-0 !ml-0":_}),children:[R(t),!h&&n.jsxs("div",{ref:u,className:U("absolute top-1/2 -translate-y-1/2 space-x-4 opacity-0 flex items-center justify-center group-hover:opacity-100 rounded-lg p-1.5 text-gray3 text-lg",{"right-full -translate-x-4":v,"left-full translate-x-4":!v}),children:[n.jsxs("div",{className:"cursor-pointer relative group/react",children:[n.jsx(co,{}),n.jsx(so,{className:"absolute bottom-4 left-1/2 -translate-x-1/2 hidden group-hover/react:flex",onClick:S})]}),t.type!==V.IMAGE_LIST&&n.jsx("div",{className:"cursor-pointer",onClick:q,children:n.jsx(lo,{})}),n.jsx("div",{className:"cursor-pointer",onClick:L,children:n.jsx(mn,{})})]})]}),w&&!h&&n.jsx("div",{className:U("group/reaction flex items-center space-x-2 ml-2 mb-3  mt-1",{"justify-end":v}),children:n.jsx("div",{className:U("text-base rounded-full cursor-pointer duration-300 flex items-center space-x-2"),children:Object.entries(xn).map(([N,M])=>{if(!t.reactions[M.value].length)return null;const z=t.reactions[M.value].map(ee=>ee.name).join(", ");return n.jsx("div",{children:n.jsx(Bt,{className:"max-w-80 z-10 !bg-black2",id:M.text,content:z,place:"top-start",children:n.jsxs("span",{className:U("text-base bg-white px-1 rounded-md cursor-pointer border flex items-center justify-center space-x-1",{}),onClick:()=>S(M.value),children:[n.jsx("span",{children:M.text}),n.jsx("span",{className:"text-xs",children:t.reactions[M.value].length})]})})},N)})})}),i&&v&&!t.isSending&&n.jsx("div",{className:U("text-gray1 absolute -bottom-0 -right-4",{"!bottom-12":w}),children:n.jsx(uo,{})})]})]})]})},mo=c.memo(fo),po=e=>c.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",...e},c.createElement("path",{fill:"currentColor",d:"m12 16.175l3.9-3.875q.275-.275.688-.288t.712.288q.275.275.275.7t-.275.7l-4.6 4.6q-.15.15-.325.213t-.375.062q-.2 0-.375-.062T11.3 18.3l-4.6-4.6q-.275-.275-.288-.687T6.7 12.3q.275-.275.7-.275t.7.275zm0-6L15.9 6.3q.275-.275.688-.287t.712.287q.275.275.275.7t-.275.7l-4.6 4.6q-.15.15-.325.213t-.375.062q-.2 0-.375-.062T11.3 12.3L6.7 7.7q-.275-.275-.288-.687T6.7 6.3q.275-.275.7-.275t.7.275z"})),ho=()=>{const[e,t]=c.useState(!0),[o,s]=c.useState(!0),{messageManagement:r}=he(S=>S.messageReducer),{conversation:i}=he(S=>S.conversationReducer),l=Object.values(r.messages),{currentConversation:d}=i,{alert:a}=r,{t:f}=Ve(),{id:g}=gn(),m=it(),E=pn(),u=c.useRef(null),h=c.useRef(g),p=c.useRef(null),x=c.useRef(0),v=c.useRef(!1);c.useEffect(()=>(g&&(_(),w(),h.current=g),()=>{s(!0)}),[g]),c.useEffect(()=>{v.current&&R()},[r.triggerScroll]),c.useEffect(()=>{if(a===0){t(!1);return}const S=p.current&&p.current.scrollHeight>p.current.clientHeight;!v.current&&a>0&&S&&t(!0)},[a]),c.useEffect(()=>{v.current&&R()},[r.triggerScroll]);const _=()=>{m(Un(g,S=>{m(hn(S))},()=>{E.push("/")}))},w=S=>{const L={conversationId:g,messageId:S||null};m(Kn(L,()=>{p.current&&(p.current.scrollTop=p.current.scrollHeight-x.current),s(!1),L.messageId||R()},()=>{s(!1)}))},R=()=>{var S;(S=u.current)==null||S.scrollIntoView()},j=S=>{const{scrollTop:L}=S.target;if(p.current){const b=p.current.scrollTop+p.current.clientHeight>=p.current.scrollHeight;v.current=b,b&&m(Dt({type:"RESET"}))}if(L===0){const b=p.current?p.current.scrollHeight:0;x.current=b,w(l[0].id)}},q=()=>{R(),m(Dt({type:"RESET"}))};return o?n.jsx("div",{className:"h-full p-4 flex items-center justify-center",children:n.jsx(Xn,{})}):n.jsxs("div",{ref:p,className:"h-full p-4 overflow-y-scroll",onScroll:j,children:[n.jsxs("div",{className:"flex flex-col space-y-0.5",children:[l.length>0&&l.map((S,L)=>{var b,I,B,O,H,A,N,M,z;return n.jsx(mo,{message:S,showAvatar:((I=(b=l[L-1])==null?void 0:b.sender)==null?void 0:I.id)!==l[L].sender.id||((B=l[L-1])==null?void 0:B.type)===V.NOTIFY,isShowName:d.isGroup&&((H=(O=l[L-1])==null?void 0:O.sender)==null?void 0:H.id)!==l[L].sender.id,isLastOfSection:l[L].sender.id!==((N=(A=l[L+1])==null?void 0:A.sender)==null?void 0:N.id),isLast:L===l.length-1,isShowDayName:!Yn(S.createdAt,(M=l[L-1])==null?void 0:M.createdAt),isShowStartTime:Zn(S.createdAt,(z=l[L-1])==null?void 0:z.createdAt)},S.id)}),e&&n.jsxs("div",{className:"sticky bottom-4 left-full right-0 flex items-center space-x-1 w-fit rounded px-3 py-1.5 bg-primaryHover text-white animate-bounce duration-200 cursor-pointer",onClick:q,children:[n.jsx("p",{className:"text-xl",children:n.jsx(po,{})}),n.jsx("span",{children:f("alert_new_message")})]})]}),n.jsx("div",{ref:u})]})},xo=e=>c.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:32,height:32,viewBox:"0 0 128 128",...e},c.createElement("path",{fill:"#FFCA28",d:"M110.03 87.19c4.66-1.24 6.22-8.41 5.95-11.93c-.39-5.17-2.73-10.14-6.39-10.72c1.33-1.23 2.5-4.68 1.99-10.23c-.47-5.07-4.57-9.23-10.07-9.54c0 0-6.45.04-18.49 2.95c-3.54.86-7.81 2.05-5.31-4.88c1.31-3.63 3.24-8.82 3.47-14.41c.43-10.68-3.14-23.04-12.06-24.18c-5.68-.73-9.34 1.85-9 6.89c.58 8.58 1.96 24.84-15.04 36.13c-7.15 4.75-8.62 11.81-13.99 14.03c-7.49 3.1-14.47 2.3-17.74 1.63a2.2 2.2 0 0 0-2.56 1.57c-5.88 20.13-1.08 36.79.77 41.99c.35.98 1.34 1.57 2.37 1.43c4.99-.68 8.91-.69 14.99-.12c5.84.55 9.08 4.9 13.46 7.79c9.89 7.26 24.31 6.73 37.84 6.4c2.91-.07 11.35 1.35 12.94 1.57c6.14.83 10-.39 11.67-5.36c1.79-5.32-.16-8.91-2.15-9.61c0 0 1.78.06 3.4-.07c3.81-.31 6.61-4.53 7.44-9.9c.7-4.48-.72-9.7-3.49-11.43"}),c.createElement("path",{fill:"#FFB300",d:"M88.13 85.24c-6.38-1.39-7.01-12.68-2.67-15.35c1.64-1.01 1.27-4.08 1.27-4.08c-2.09-.61-4.02-2.68-4.34-7.47c-.33-5 3.11-8.23 3.11-8.23s-5.03-.36-7.17 2.69c-2.69 3.83-4.58 14.5-6.47 19.37c-2.39 6.17-7.76 11.51-12.73 14.44c7.41 3.22 9.06 18.62 12.73 25.93c3.66 7.3 11.08 8.02 10.78 7.57c-1.46-2.21-1.54-6.92-1.17-8.44c1.41-5.86 5.93-5.34 5.93-5.34l.63-2.26s-3.28-2.73-3.28-7.73c0-5.72 3.15-7.63 3.15-7.63z"}),c.createElement("path",{fill:"#EDA600",d:"M31.74 68.41s1.25-2.58 5.34-8.68c1.74-2.6 4.55-5.95 8.86-9.63c4.45-3.79 7.85-8.49 8.17-11.25c-1.89 2.73-6.21 6.54-9.04 8.42c-6.95 4.62-13.98 14.03-13.33 21.14m51.95 34.25c-1.41-.28-4.91-2.69-4.83-7.85c.06-4.42 2.77-5.43 4.07-5.94c0 0 13.06-.2 21.74-.06c2.82 0 5.5-1.63 5.5-1.63s-2.49-1.61-5.65-1.74c-14.26-.57-20.58-.3-22.81-.7c0 0-3.97-.14-4.36-7.08c-.41-7.29 5.27-7.22 6.69-7.49s15.47-2.32 19.06-2.88c4.47-.7 6.29-2.73 6.29-2.73s-.8-.27-4.87-.06c-3.62.18-13.07 1.06-20.47 1.4c-1.07.05-5.59-.69-6.08-5.01c-.27-2.36-.32-5.18.63-7.09c1.31-3.51 12.44-4.8 18.15-5.76c10.27-1.72 13.11 1.49 13.11 1.49c-2.22-5.41-8.98-5.68-15.75-4.56c-.75.12-11.93 1.6-14.35 1.99c-1.79.29-2.42-.99-.99-5.02c3.7-10.42 2.28-18.85 2.28-18.85s-.63 4.63-1.86 8.54c-1.23 3.91-3.08 7.93-5.38 11.81c-2.2 3.69-1.3 9.03-1.63 18.88s-5.16 17.4-12.69 22.2c-.76.34-1.68 1.54-.68 2.1c1.38.08 2.81-.43 4.08-.96c3.06-1.26 7.25-3.29 10.2-7.69c-.07 5.04 1.73 7.98 3.98 9.43c-1.81 1.5-2.64 3.48-2.63 8.18c.01 4.43 1.67 6.56 3.39 7.94c-1.87.86-3.57 2.44-4.18 5.21c-.73 3.28-.83 6.04.21 8.24c-.02.01-.05.02-.06.04c-5.04 4.01-19.41 1.36-24.73-1.41c-8.49-4.43-9.9-6.94-12.42-8.71a28.548 28.548 0 0 1-5.46-8.96c-.32 2.75-.13 4.84.63 6.91c-6-1.53-12.89 1.14-15.38 1.74c-2.64.63-2.96 1.49-2.96 1.49c11.62-.65 14.3-.49 17.54.35c5.83 1.51 7.57 8.14 20.98 11.91c6.44 1.81 17.33 2.47 30.86 2.79c5.49 1.14 12.23.7 12.23.7s-14.09-3.45-16.54-6.34c-.47-.55-2.76-4.06-.04-9.44c1.04-2.05 3.37-1.72 5.46-1.59c.74.05 12.38 1.38 15.46 1.92c4.93.87 7.85-.09 7.85-.09s-3.62-1.79-6.41-2.3c-3-.56-15.77-3.04-17.18-3.32"})),vo=e=>c.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:28,height:28,viewBox:"0 0 256 256",...e},c.createElement("path",{fill:"currentColor",d:"M216 44H40a12 12 0 0 0-12 12v144a12 12 0 0 0 12 12h176a12 12 0 0 0 12-12V56a12 12 0 0 0-12-12M40 52h176a4 4 0 0 1 4 4v112.4l-32.89-32.89a12 12 0 0 0-17 0l-22.83 22.83l-46.82-46.83a12 12 0 0 0-17 0L36 159V56a4 4 0 0 1 4-4m-4 148v-29.66l53.17-53.17a4 4 0 0 1 5.66 0L181.66 204H40a4 4 0 0 1-4-4m180 4h-23l-40-40l22.83-22.83a4 4 0 0 1 5.66 0L220 179.71V200a4 4 0 0 1-4 4m-68-104a8 8 0 1 1 8 8a8 8 0 0 1-8-8"})),go=()=>{const[e,t]=c.useState({}),o=Object.values(e),[s,r]=c.useState(""),[i,l]=c.useState(!1),{user:d}=he(b=>b.userReducer),{messageManagement:a}=he(b=>b.messageReducer),f=c.useRef(null),g=c.useRef(),m=c.useRef(""),E=c.useRef(o.length),{id:u}=gn(),{t:h}=Ve(),p=it(),x=a.reply[u];c.useEffect(()=>{E.current=o.length},[o.length]);const v=b=>{const I={...e};delete I[b],t(I)};c.useEffect(()=>{const b=I=>{var O;const B=I==null?void 0:I.target;(O=g.current)!=null&&O.contains(B)||_(!1)};return window.addEventListener("mousedown",b),()=>{window.removeEventListener("mousedown",b)}},[]),c.useEffect(()=>{var b;(b=f.current)==null||b.focus()},[x]);const _=b=>{l(b)},w=b=>{const I=b.target.value;r(I),m.current=I},R=b=>{const I=(b.clipboardData||b.originalEvent.clipboardData).items;let B=!1,O=!1;for(let H in I){const A=I[H];A.kind==="string"&&A.type==="text/plain"?B=!0:A.kind==="file"&&A.type.includes("image")&&(O=!0)}if(B){const H=b.clipboardData.getData("text/plain");if(H.startsWith(`${Qn}/uploads`))return t(A=>({...A,[u]:{url:H,urlLocal:"",id:u}})),b.preventDefault()}if(O){for(const H of I)if(H.kind==="file"&&H.type.startsWith("image/")){if(E.current>=Jn.LIMIT_IMAGES){lt(h("limit_image_upload"));return}const A=H.getAsFile();if(!A)return;const N=new FileReader;N.onload=z=>{const me={url:"",urlLocal:z.target.result,id:A.lastModified};t(F=>({...F,[A.lastModified]:me}))},N.readAsDataURL(A);let M=new FormData;M.append("image",A),p(Zt(M,z=>{t(ee=>({...ee,[A.lastModified]:{url:z.url,urlLocal:"",id:A.lastModified}}))},()=>{}));break}}},j=b=>{if(b.key=="Enter"&&!b.shiftKey){const I=o.length&&o.find(B=>!B.url);if(o.length>0&&I){lt(h("uploading_image"));return}if(b.preventDefault(),q(),o.length>0){const O=o.map(H=>H.url).join(",");q(O,V.IMAGE_LIST),t({})}}},q=(b,I=V.TEXT)=>{const B=I==V.IMAGE,O=Date.now(),H={conversationId:u,sender:d.id,content:b||s,type:I,replyMessage:B||x==null?void 0:x.id,virtualId:O};if(!H.content)return;const A=new Qt({id:O,virtualId:O,conversationId:u,sender:d,content:b||s,isNew:!0,createdAt:Date.now(),type:I,isSending:!0,replyMessage:!B&&(x==null?void 0:x.id)&&new Qt(x)});p(es(A)),p(ts()),p(Dt({type:"INCREASE"})),r(""),l(!1),m.current="",!B&&p(Jt({conversationId:u})),p(vn(H,()=>{},()=>{}))},S=(b,I)=>{const B=b.target.files[0];if(!B)return;let O=new FormData;O.append("image",B),p(Zt(O,H=>{q(H.url,I)},()=>{}))},L=()=>{p(Jt({conversationId:u}))};return n.jsxs("div",{className:"flex flex-col mx-3 my-2.5 rounded-xl border border-gray2",children:[x&&n.jsx("div",{className:"p-2",children:n.jsxs("div",{className:U("border-l-4 border-primary pl-1.5 relative",{"flex items-center space-x-2":(x==null?void 0:x.type)===V.IMAGE||(x==null?void 0:x.type)===V.IMAGE_LIST}),children:[(x==null?void 0:x.type)===V.IMAGE&&n.jsx("div",{children:n.jsx("img",{className:"min-w-12 w-12 h-12 object-cover",src:x.content})}),(x==null?void 0:x.type)===V.IMAGE_LIST&&n.jsx("div",{children:n.jsx("img",{className:"min-w-12 w-12 h-12 object-cover",src:x.content.split(",")[0]})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-semibold",children:x.sender.name}),n.jsx("p",{className:"line-clamp-1 text-ellipsis pr-2 text-sm text-gray3",children:x.type===V.IMAGE?h("image"):x.content})]}),n.jsx("div",{className:"absolute right-2 top-0 cursor-pointer text-2 text-black rounded-full w-5 h-5 flex items-center justify-center",onClick:L,children:n.jsx(It,{})})]})}),n.jsx("div",{className:"flex items-center space-x-2 px-2 pt-1",children:n.jsxs("div",{className:"cursor-pointer duration-300 hover:bg-gray2 p-1.5 rounded",children:[n.jsx("label",{htmlFor:"input-image",className:"cursor-pointer",children:n.jsx(vo,{})}),n.jsx("input",{className:"hidden",id:"input-image",type:"file",accept:"image/png, image/jpeg, image/jpg, image/webp",onChange:b=>S(b,V.IMAGE)})]})}),n.jsxs("div",{className:"flex items-center space-x-4 px-4",children:[n.jsx(wn,{ref:f,className:"px-4 pt-2 pb-4 pl-0",placeholder:h("type_message"),value:s,onChange:w,onKeyPress:j,onPaste:R,autoFocus:!0}),n.jsx("div",{className:"cursor-pointer",onClick:()=>q("👍"),children:n.jsx(xo,{})})]}),Object.values(e).length>0&&n.jsx("div",{className:"mb-4 px-4 flex flex-wrap items-center",children:Object.values(e).map(b=>n.jsxs("div",{className:"relative mr-4",children:[n.jsx("img",{className:"w-20 h-20 rounded-lg object-cover border border-gray2",src:b.urlLocal||b.url,width:"100px",height:"100px"}),n.jsx("div",{className:"absolute right-1 top-1 text-2 text-black bg-gray2 border border-white rounded-full p-1 cursor-pointer duration-300 hover:bg-primaryHover hover:text-white",children:b.url?n.jsx("div",{onClick:()=>v(b.id),children:n.jsx(It,{})}):n.jsx("p",{children:"Loading..."})})]},b.id))})]})},jo=()=>n.jsxs("div",{className:"h-screen w-full flex flex-col",children:[n.jsx(no,{}),n.jsx(ho,{}),n.jsx(go,{})]});export{jo as default};
